# 材质替换工具 (Material Replacer)

这是一个Unity编辑器扩展工具，用于批量替换游戏对象及其子对象上的材质球。该工具解决了在不同颜色主题之间切换材质时手动替换的繁琐问题。

## 功能特点

- 指定一个对象，自动检测该对象及其所有子对象
- 检查所有MeshRenderer和SkinnedMeshRenderer组件中的材质
- 根据指定的材质文件夹，自动替换同名材质
- 按材质槽位进行精确匹配
- 提供预览功能，可以在替换前查看将要被替换的材质
- 支持撤销/重做操作
- 支持Unity录制功能

## 使用说明

1. 在Unity编辑器中，通过菜单 `Window > Material Replacer` 打开材质替换工具窗口
2. **步骤1**: 选择需要替换材质的目标对象（将自动包含其所有子对象）
3. **步骤2**: 选择包含替换用材质的文件夹（例如新的颜色主题文件夹）
4. **步骤3**: 点击"预览替换结果"按钮，查看将要被替换的材质
5. **步骤4**: 确认无误后，点击"执行替换"按钮完成批量替换

## 安装方法

### 方法1：导入Unity包

1. 下载本工具的Unity包文件(.unitypackage)
2. 在Unity编辑器中，选择 `Assets > Import Package > Custom Package...`
3. 选择下载的Unity包文件，然后导入所有内容

### 方法2：手动安装

1. 在你的Unity项目中创建一个名为 `Editor` 的文件夹（如果尚不存在）
2. 将 `MaterialReplacerWindow.cs` 文件复制到 `Editor` 文件夹中
3. 重新打开Unity编辑器或刷新资源，工具将自动编译

## 使用场景示例

假设你有一个角色模型，它有多个部件（身体、头部、四肢等），每个部件都有自己的材质。现在你想要切换这个角色的颜色主题：

1. 有一个"红色主题"文件夹，里面包含了所有材质的红色版本
2. 有一个"蓝色主题"文件夹，里面包含了所有材质的蓝色版本

使用本工具，你只需要：
1. 选择角色的父对象
2. 选择"蓝色主题"文件夹
3. 点击预览，确认更改
4. 执行替换

所有角色部件的材质将一次性从红色主题切换到蓝色主题，无需手动拖拽几十个材质球。

## 技术要求

- Unity 2018.4 或更高版本

## 注意事项

- 替换基于材质名称匹配，请确保不同文件夹中的同类材质使用相同的命名规则
- 替换仅限于同名材质，不会修改渲染器上的材质顺序或数量
- 所有操作支持撤销功能，如果替换后效果不满意，可以通过 `Ctrl+Z`(Windows) 或 `Cmd+Z`(Mac) 撤销操作
